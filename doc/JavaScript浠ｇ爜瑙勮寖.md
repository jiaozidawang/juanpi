# JavaScript代码规范
JavaScript 是网页的第三个主要部件。在网页上适当地应用JavaScript 代码，通过绑定事件和控制整体行为层，能够增强整体的用户和基于浏览器的体验。

随着功能强劲的新浏览器撑起基于浏览器的完整web应用，JavaScript 在近年的流行度爆棚。另外，对Javascript的细致运用为全面操控另外两个部件 — HTML 标记 和 CSS — 提供了手段。现在，在无需刷新整个页面的情况下，页面结构和页面视觉样式都可以被实时操控。

## 编码总体原则
* 99%的代码必须封装在外部Javascript文件中。这些文件必须在 BODY 标签的尾部引入，让页面的性能最大化。
* 不要依赖于 user-agent 字符串。进行适当的特性检测. （更多信息参见 深入 HTML5： 检测 和 jQuery 支持文档）
* 不要使用 document.write()。
* 所有布尔变量的命名必须用 “is” 开头
* 对正条件的测试
* 1.isValid = (test.value >= 4 && test.success);
* 给变量和函数的命名要有逻辑意义：例如： popUpWindowForAd 就比 myWindow 好多了。
* 不要人为缩短命名到最小。除了传统的 for 循环中的计数器 i 等简化的情况，变量命名必须长到有明确意义。
* 文档必须遵循 NaturalDocs 结构。
* 常量或配置变量（例如动画持续时间等）必须放在文件的顶部。
* 尽力编写可通用化的函数，让它接受参数并返回值。这样有利于充分的代码重用，而且一旦与引入及外部脚本配合起来，能在脚本需要修改时减少开销。例如，相比硬编码一个* 带有窗口大小、选项和url的弹出式窗口，不如编写一个接受大小、url和选项作为变量的函数。
* 给代码添加注释！这会有利于减少在调试Javascript函数上花费的时间。
* 不要把时间浪费在用 <!-- --> 给你的内联Javascript加注释上，除非你还在关注 Netscape 4。 :)
* 把你的代码组织成一套 对象常量/单例，按照 模块化模式，或做成 带构造器的对象。
* 最小化全局变量 – 你创建的全局变量越少越好。一般来说，用于你的应用命名空间，1会是个好的数字。
* 在描述任何全局变量的时候要明确指认。

## 命名
1. 变量，使用 Camel 命名法。`let loadingModules = ''`
2. 私有属性、变量和方法以下划线 _ 开头。`let _privateMethod = {};`
3. 常量、枚举，使用全部字母大写，单词间下划线分隔的命名方式。`const HTML_ENTITY = {};`
4. 每个 let/const 只能声明一个变量

## True 和 False 布尔表达式
类型检测优先使用 typeof。对象类型检测使用 instanceof。null 或 undefined 的检测使用 == null。

## 二元和三元操作符
操作符始终写在前一行，以免分号的隐式插入产生预想不到的问题。

## 条件 (三元) 操作符 (?:)
三元操作符用于替代 if 条件判断语句。

## && 和 ||
二元布尔操作符是可短路的，只有在必要时才会计算到最后一项。

## 链式写法
1. 尽量使用链式写法而不是用变量缓存或者多次调用选择器方法
2. 当链式写法超过三次或者因为事件绑定变得复杂后，使用换行和缩进保持代码可读性

## 全局命名空间污染与 IIFE
总是将代码包裹成一个 IIFE(Immediately-Invoked Function Expression)，用以创建独立隔绝的定义域。这一举措可防止全局命名空间被污染。




## 性能优化
1. 避免不必要的 DOM 操作
2. 缓存数组长度
3. 异步加载第三方内容
4. 减少重绘和回流
5. 尽量使用事件代理，避免批量绑定事件

